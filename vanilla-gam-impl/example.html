<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5,user-scalable=0">
		<title>Basic GAM Ads Example Page</title>
		<link rel="stylesheet" href="https://unpkg.com/mvp.css">
		<link rel="stylesheet" href="/example.css">
		<script
			async
			src="https://securepubads.g.doubleclick.net/tag/js/gpt.js"
		></script>
		<script>
			var googletag = googletag || {};
			googletag.cmd = googletag.cmd || [];
			googletag.cmd.push(function(){
				googletag.pubads().disableInitialLoad();
			});
		</script>
	</head>
	<body class="lightMode">
		<div class="container">
			<div class="ad-container">
				<div class="ad" id="ad-top"></div>
				<div class="ad" id="mobile-ad-top"></div>
			</div>
			<h1>Basic GAM Ads Example Page</h1>
			<div class="button-container">
				<a href="/example.html">SGW.js</a>
				<a href="/vanilla-gam-impl/example.html">Basic</a>
				<a href="/vanilla-gam-impl/example-advanced.html">Advanced</a>
			</div>
			<p><strong>NOTE:</strong> <em>Please review the source code of this page to see implementation.</em></p>
			<p>
				The pleasures which I made haste to seek in my disguise were, as I
				have said, undignified; I would scarce use a harder term. But in the
				hands of Edward Hyde, they soon began to turn toward the monstrous.
				When I would come back from these excursions, I was often plunged
				into a kind of wonder at my vicarious depravity. This familiar that
				I called out of my own soul, and sent forth alone to do his good
				pleasure, was a being inherently malign and villainous; his every
				act and thought centered on self; drinking pleasure with bestial
				avidity from any degree of torture to another; relentless like a man
				of stone. Henry Jekyll stood at times aghast before the acts of
				Edward Hyde; but the situation was apart from ordinary laws, and
				insidiously relaxed the grasp of conscience. It was Hyde, after all,
				and Hyde alone, that was guilty. Jekyll was no worse; he woke again
				to his good qualities seemingly unimpaired; he would even make
				haste, where it was possible, to undo the evil done by Hyde. And
				thus his conscience slumbered.
			</p>

			<p>
				Into the details of the infamy at which I thus connived (for even
				now I can scarce grant that I committed it) I have no design of
				entering; I mean but to point out the warnings and the successive
				steps with which my chastisement approached. I met with one accident
				which, as it brought on no consequence, I shall no more than
				mention. An act of cruelty to a child aroused against me the anger
				of a passer-by, whom I recognised the other day in the person of
				your kinsman; the doctor and the child’s family joined him; there
				were moments when I feared for my life; and at last, in order to
				pacify their too just resentment, Edward Hyde had to bring them to
				the door, and pay them in a cheque drawn in the name of Henry
				Jekyll. But this danger was easily eliminated from the future, by
				opening an account at another bank in the name of Edward Hyde
				himself; and when, by sloping my own hand backward, I had supplied
				my double with a signature, I thought I sat beyond the reach of
				fate.
			</p>
			
			<div class="ad-container in-content">
				<div class="ad" id="ad-in-content"></div>
				<div class="ad" id="mobile-ad-in-content"></div>
			</div>
			<p>
				Some two months before the murder of Sir Danvers, I had been out for
				one of my adventures, had returned at a late hour, and woke the next
				day in bed with somewhat odd sensations. It was in vain I looked
				about me; in vain I saw the decent furniture and tall proportions of
				my room in the square; in vain that I recognised the pattern of the
				bed curtains and the design of the mahogany frame; something still
				kept insisting that I was not where I was, that I had not wakened
				where I seemed to be, but in the little room in Soho where I was
				accustomed to sleep in the body of Edward Hyde. I smiled to myself,
				and in my psychological way, began lazily to inquire into the
				elements of this illusion, occasionally, even as I did so, dropping
				back into a comfortable morning doze. I was still so engaged when,
				in one of my more wakeful moments, my eyes fell upon my hand. Now
				the hand of Henry Jekyll (as you have often remarked) was
				professional in shape and size: it was large, firm, white and
				comely. But the hand which I now saw, clearly enough, in the yellow
				light of a mid-London morning, lying half shut on the bedclothes,
				was lean, corder, knuckly, of a dusky pallor and thickly shaded with
				a swart growth of hair. It was the hand of Edward Hyde.
			</p>

			<p>
				I must have stared upon it for near half a minute, sunk as I was in
				the mere stupidity of wonder, before terror woke up in my breast as
				sudden and startling as the crash of cymbals; and bounding from my
				bed I rushed to the mirror. At the sight that met my eyes, my blood
				was changed into something exquisitely thin and icy. Yes, I had gone
				to bed Henry Jekyll, I had awakened Edward Hyde. How was this to be
				explained? I asked myself; and then, with another bound of
				terror--how was it to be remedied? It was well on in the morning;
				the servants were up; all my drugs were in the cabinet--a long
				journey down two pairs of stairs, through the back passage, across
				the open court and through the anatomical theatre, from where I was
				then standing horror-struck. It might indeed be possible to cover my
				face; but of what use was that, when I was unable to conceal the
				alteration in my stature? And then with an overpowering sweetness of
				relief, it came back upon my mind that the servants were already
				used to the coming and going of my second self. I had soon dressed,
				as well as I was able, in clothes of my own size: had soon passed
				through the house, where Bradshaw stared and drew back at seeing Mr.
				Hyde at such an hour and in such a strange array; and ten minutes
				later, Dr. Jekyll had returned to his own shape and was sitting
				down, with a darkened brow, to make a feint of breakfasting.
			</p>
			<div class="ad-container in-content">
				<div class="ad" id="ad-in-content2"></div>
				<div class="ad" id="mobile-ad-in-content2"></div>
			</div>
			<p>
				Small indeed was my appetite. This inexplicable incident, this
				reversal of my previous experience, seemed, like the Babylonian
				finger on the wall, to be spelling out the letters of my judgment;
				and I began to reflect more seriously than ever before on the issues
				and possibilities of my double existence. That part of me which I
				had the power of projecting, had lately been much exercised and
				nourished; it had seemed to me of late as though the body of Edward
				Hyde had grown in stature, as though (when I wore that form) I were
				conscious of a more generous tide of blood; and I began to spy a
				danger that, if this were much prolonged, the balance of my nature
				might be permanently overthrown, the power of voluntary change be
				forfeited, and the character of Edward Hyde become irrevocably mine.
				The power of the drug had not been always equally displayed. Once,
				very early in my career, it had totally failed me; since then I had
				been obliged on more than one occasion to double, and once, with
				infinite risk of death, to treble the amount; and these rare
				uncertainties had cast hitherto the sole shadow on my contentment.
				Now, however, and in the light of that morning’s accident, I was led
				to remark that whereas, in the beginning, the difficulty had been to
				throw off the body of Jekyll, it had of late gradually but decidedly
				transferred itself to the other side. All things therefore seemed to
				point to this; that I was slowly losing hold of my original and
				better self, and becoming slowly incorporated with my second and
				worse.
			</p>
			<div class="ad-container">
				<div class="ad" id="ad-bottom"></div>
				<div class="ad" id="mobile-ad-bottom"></div>
			</div>
		</div>
		<script>
			// Rudementary mobile device detection
			var viewportWidth = Math.max(
				document.documentElement.clientWidth || 0,
				window.innerWidth || 0
			);
			// Simple for example purposes. More advanced solution recommended.
			var isMobile = viewportWidth <= 1024; 
			// Our static ad units for page or site.
			var slotConfigs = {
				"mobile-ad-top": {
					elementId: "mobile-ad-top",
					sizes: [
						[320, 50]
					],
				},
				"mobile-ad-bottom": {
					elementId: "mobile-ad-bottom",
					sizes: [
						[320, 50],
						[300, 250],
					],
				},
				"mobile-ad-in-content": {
					elementId: "mobile-ad-in-content",
					sizes: [
						[320, 50],
						[300, 250],
					],
				},
				"ad-top": {
					elementId: "ad-top",
					sizes: [
						[728, 90],
						[970, 90],
					],
				},
				"ad-bottom": {
					elementId: "ad-bottom",
					sizes: [
						[728, 90],
						[970, 90],
					],
				},
				"ad-in-content": {
					elementId: "ad-in-content",
					sizes: [[300, 250]],
				},
			};
			// gamPath Required. Please contact your ad operations manager to get this.
			var gamPath = "/22235064382/example/article";
			// Gives details about the page itself.
			googletag.cmd.push(function(){
				googletag.pubads().setTargeting("page_type", "article");
				googletag.pubads().setTargeting("device", isMobile ? "mobile" : "desktop");
			})
			// Get Ad Configurations.
			var unitsToRefresh = isMobile
				? ["mobile-ad-top", "mobile-ad-in-content", "mobile-ad-bottom"]
				: ["ad-top", "ad-in-content", "ad-bottom"];
			var activeSlotConfigurations = unitsToRefresh
				.map(function(key){
					return slotConfigs[key]
				})
			// Define slots
			var slots = {};
			var activeSlots = [];
			googletag.cmd.push(function(){
				for (var index = 0; index < activeSlotConfigurations.length; index++) {
					var activeSlotConfig = activeSlotConfigurations[index];
					if(slots[activeSlotConfig.elementId]){ 
						// reuse slot definition if available
						activeSlots.push(slots[activeSlotConfig.elementId]);
					} else if(document.getElementById(activeSlotConfig.elementId)){
						slots[activeSlotConfig.elementId] = googletag.defineSlot(gamPath, activeSlotConfig.sizes, activeSlotConfig.elementId);
						slots[activeSlotConfig.elementId].addService(window.googletag.pubads())
						activeSlots.push(slots[activeSlotConfig.elementId]);
					} else {
						console.error('Ads: The element with id "' + activeSlotConfig.elementId + '" does not exist. Cannot define slot.');
					}
				}
			})
			// Enable Services
			var gamServicesEnabled = false;
			if(!gamServicesEnabled){
				googletag.cmd.push(function(){
					window.googletag.pubads().enableSingleRequest();
					window.googletag.enableServices();
					gamServicesEnabled = true;
				})
			}
			// Display Slots
			googletag.cmd.push(function(){
				for (var index = 0; index < activeSlotConfigurations.length; index++) {
					var activeSlotConfig = activeSlotConfigurations[index];
					if(document.getElementById(activeSlotConfig.elementId)){
						googletag.display(activeSlotConfig.elementId);
					} else {
						console.error('Ads: The element with id "' + activeSlotConfig.elementId + '" does not exist. Cannot display slot.');
					}
				}
			})
			// Refresh Ads
			googletag.cmd.push(function(){
				googletag.pubads().refresh(activeSlots);
				activeSlots = [];
			})

			// Below you will find execution of styling logic around ads.
			// This logic specifically applies content to empty ad slots.
			// See example.css for related styles.
			googletag.cmd.push(function(){
				googletag.pubads().addEventListener('slotRenderEnded', function(event){
					if(event.isEmpty){
						document.getElementById(event.slot.getSlotElementId()).classList.add("empty");
					}
				})
			})
			setTimeout(function(){
				// Applies styles for ad block users.
				document.body.classList.add("adsProcessed"); 
			}, 1000)
		</script>
	</body>
</html>
